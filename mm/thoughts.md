申请一般都是这样：

1. 向从当前 cpu 的 percpu 缓存中申请，而且申请的是最近刚释放。
   优点：
   1. 从 percpu 中申请，不需要加锁。
   2. 是快速路径，代码特别少，减少了对 icache 的污染。
   3. 最近刚释放的可能还在 cpu cache 内
2. 如果当前 percpu 中没有。则将当前 node 中的放到 percpu 上。如果当前 node 没有，则从其他 node 获取。

释放一般这样：

1. 释放到 percpu 的上面。如果空闲的超过了某个阈值，则放到当前 node 上。
